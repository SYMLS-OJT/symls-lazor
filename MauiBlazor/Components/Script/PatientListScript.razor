<script>
    function downloadTableAsCSV() {
        const table = document.querySelector('table');

        let csv = '';

        table.querySelectorAll('tr').forEach(row => {
            row.querySelectorAll('th, td').forEach((cell, index) => {
                csv += index === 0 ? '' : ',';
                csv += `"${cell.innerText.trim().replace(/"/g, '""')}"`;
            });
            csv += '\n';
        });

        const blob = new Blob([csv], { type: 'text/csv' });

        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);

        a.download = 'table.csv';

        document.body.appendChild(a);
        a.click();

        document.body.removeChild(a);
        alert('Download');
    }

    // document.getElementById('tableID').addEventListener('click', downloadTableAsCSV);

</script>